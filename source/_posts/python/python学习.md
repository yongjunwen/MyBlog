---
title:  python学习
tags:  [Python3-WIKI]
categories:  [Python]
date:  2017-05-19 16:17:22
---

# Python基础知识总结
```
-->首先python是用缩进来解读程序的，所以缩进很重要
-->%d %s 分别表示打印整数和字符串
-->print 直接打印
-->def 方法名:  声明方法
-->if __name__ == '__main__': 这个感觉想是主方法
-->r或R 字符串前缀加上r或R表示自然字符串
    打印输出一下就明白意思了
    print "============Newlines are indicated by \n"
    print r"============Newlines are indicated by \n"
-->列表
    空列表：a=[]
    函数方法：a.append(3)     　　>>>[3]
          a.extend([3,4,5])     　　>>>[3,3,4,5]    添加一个列表序列
          a.insert(1,'hello')    　　  >>>[3,'hello',3,4,5]
          a.remove(3)        　　　  >>>['hello',3,4,5] 删除第一个出现的3，没有3则报错
          a.pop()        　　　　　　>>>['hello',3,4]
          a.pop(0)        　　　　　　>>>[3,4]
          a.index(4)       　　 >>>1    返回出现的第一个4的下标
          a.count(3)        　　>>>1    列表中元素3的个数
          a.sort        >>>[3,4]    排序
          a.reverse()        >>>[4,3]    反序
    删除元素的方法
        a.remove(3)    通过值删除元素，删除第一个为参数值得元素
        a.pop()       通过下标删除元素，默认删除列表最后一个值，带参数则删除下标为参数值的元素
        del a[0]       通过下标删除元素，
            del a[2:4] 删除a表下标为2,3的元素
        del a[:]   删除a列表所有元素
        del a       删除列表
-->元组
    空元组：t = ()
    元组赋值： t = (123,345)
           t[0]         >>>123

-->字典
    d = {'Jack':'jack@mail.com','Tom':'Tom@main.com'}
    d['Jack']    　　　　　　　　>>>'jack@mail.com
    d['Jim'] = 'Jim@sin.com'    >>>{'Jim': 'Jim@sin.com', 'Jack': 'jack@mail.com', 'Tom': 'Tom@main.com'}

　 del d['Jim']    >>>{'Jack': 'jack@mail.com', 'Tom': 'Tom@main.com'}
    list(d.keys())    将返回一个字典中所有关键字组成的无序列表
    sorted(d.keys()) 将返回一个字典中所有关键字组成的排序列表
    dict()    构造函数可以直接从key-value对中创建字典
    dict([('Tim',123),('Tiny',234)])    >>>{'Tiny': 234, 'Tim': 123}

-->字符串相关知识
    addressStr = "%s%s%s" %(village_name,village_period,build_number)

    特殊字符的删除
    identify = string.maketrans('', '')
    delEStr = string.punctuation + ' ' + string.digits  #ASCII 标点符号，空格和数字

    s = s.translate(identify, delEStr) #去掉ASCII 标点符号和空格

```

# 4种类型的数
```
1、在Python中有4种类型的数——整数、长整数、浮点数和复数。

2是一个整数的例子。
长整数不过是大一些的整数。
3.23和52.3E-4是浮点数的例子。E标记表示10的幂。在这里，52.3E-4表示52.3 * 10-4。
(-5+4j)和(2.3-4.6j)是复数的例子。
```
# 字符串
```

字符串是 字符的序列 。字符串基本上就是一组单词。

我几乎可以保证你在每个Python程序中都要用到字符串，所以请特别留心下面这部分的内容。下面告诉你如何在Python中使用字符串。

使用单引号（'）
你可以用单引号指示字符串，就如同'Quote me on this'这样。所有的空白，即空格和制表符都照原样保留。

使用双引号（"）
在双引号中的字符串与单引号中的字符串的使用完全相同，例如"What's your name?"。

使用三引号（'''或"""）
利用三引号，你可以指示一个多行的字符串。你可以在三引号中自由的使用单引号和双引号。例如：

'''This is a multi-line string. This is the first line.
This is the second line.
"What's your name?," I asked.
He said "Bond, James Bond."
'''
转义符
假设你想要在一个字符串中包含一个单引号（'），那么你该怎么指示这个字符串？例如，这个字符串是What's your name?。你肯定不会用'What's your name?'来指示它，因为Python会弄不明白这个字符串从何处开始，何处结束。所以，你需要指明单引号而不是字符串的结尾。可以通过 转义符 来完成这个任务。你用\'来指示单引号——注意这个反斜杠。现在你可以把字符串表示为'What\'s your name?'。

另一个表示这个特别的字符串的方法是"What's your name?"，即用双引号。类似地，要在双引号字符串中使用双引号本身的时候，也可以借助于转义符。另外，你可以用转义符\\来指示反斜杠本身。

值得注意的一件事是，在一个字符串中，行末的单独一个反斜杠表示字符串在下一行继续，而不是开始一个新的行。例如：

"This is the first sentence.\
This is the second sentence."
等价于"This is the first sentence. This is the second sentence."

自然字符串
如果你想要指示某些不需要如转义符那样的特别处理的字符串，那么你需要指定一个自然字符串。自然字符串通过给字符串加上前缀r或R来指定。例如r"Newlines are indicated by \n"。

Unicode字符串
Unicode是书写国际文本的标准方法。如果你想要用你的母语如北印度语或阿拉伯语写文本，那么你需要有一个支持Unicode的编辑器。类似地，Python允许你处理Unicode文本——你只需要在字符串前加上前缀u或U。例如，u"This is a Unicode string."。

记住，在你处理文本文件的时候使用Unicode字符串，特别是当你知道这个文件含有用非英语的语言写的文本。

字符串是不可变的
这意味着一旦你创造了一个字符串，你就不能再改变它了。虽然这看起来像是一件坏事，但实际上它不是。我们将会在后面的程序中看到为什么我们说它不是一个缺点。

按字面意义级连字符串
如果你把两个字符串按字面意义相邻放着，他们会被Python自动级连。例如，'What\'s' 'your name?'会被自动转为"What's your name?"。
```

# 标识符的命名
```

变量是标识符的例子。 标识符 是用来标识 某样东西 的名字。在命名标识符的时候，你要遵循这些规则：

标识符的第一个字符必须是字母表中的字母（大写或小写）或者一个下划线（‘ _ ’）。

标识符名称的其他部分可以由字母（大写或小写）、下划线（‘ _ ’）或数字（0-9）组成。

标识符名称是对大小写敏感的。例如，myname和myName不是一个标识符。注意前者中的小写n和后者中的大写N。

有效 标识符名称的例子有i、__my_name、name_23和a1b2_c3。

无效 标识符名称的例子有2things、this is spaced out和my-name。
```
# 关于模块主方法的使用
```
模块的__name__

每个模块都有一个名称，在模块中可以通过语句来找出模块的名称。这在一个场合特别有用——就如前面所提到的，当一个模块被第一次输入的时候，这个模块的主块将被运行。假如我们只想在程序本身被使用的时候运行主块，而在它被别的模块输入的时候不运行主块，我们该怎么做呢？这可以通过模块的__name__属性完成。

使用模块的__name__

例8.2 使用模块的__name__
```

# !/usr/bin/python Filename: using_name.py
```

if __name__ == '__main__':
    print 'This program is being run by itself'
else:
    print 'I am being imported from another module'
```
# python中切片的学习
```
切片操作符是序列名后跟一个方括号，方括号中有一对可选的数字，并用冒号分割。注意这与你使用的索引操作符十分相似。记住数是可选的，而冒号是必须的。

切片操作符中的第一个数（冒号之前）表示切片开始的位置，第二个数（冒号之后）表示切片到哪里结束。如果不指定第一个数，Python就从序列首开始。如果没有指定第二个数，则Python会停止在序列尾。注意，返回的序列从开始位置 开始 ，刚好在 结束 位置之前结束。即开始位置是包含在序列切片中的，而结束位置被排斥在切片外。
```
# 正则表达式的学习
```
正则表达式的学习 http://www.cnblogs.com/huxi/archive/2010/07/04/1771073.html
  ①一般字符：
   . 匹配任意除换行符“\n”外的字符 例如：a.c -> abc,acc,adc...等与之匹配
   \ 转义字符，使后一个字符改变原来的意思 例如：a\.c,a\\c 与之匹配的则是a.c,a\c
   [...] 字符集（字符类） 对应的位置可以是字符集中任意字符，字符集中得字符可以逐个列出，也可以给出范围，如
          [abc]或[a-c],第一个字符如果是^ 则表示取反，如[^abc]表示不是abc的其他字符，所有的特殊字符在字符集中都
          失去其原有的特殊含义。
  ②预定义字符集 -> 在字符集表示方式
    \d  -> 表示数字：[0-9]
    \D  -> 表示非数字：[^\d]
    \s  -> 表示空白字符：[<空格>\t\r\n\f\v]
    \S  -> 表示非空白符：[^\s]
    \w  -> 表示单词字符: [A-Za-z0-9_]
    \W  -> 表示非单词字符：[^\w]
  ③数量词（用在字符或（...）之后）
     * -> 表示：匹配前一个字符0或无限次 例如：abc* 表示ab、abcccccc等
     + -> 表示：匹配前一个字符一次或无限次 例如 abc+ 表示abc、abcccccc等
     ？ -> 表示：匹配前一个字符0次或一次。例如：abc？ 表示ab、abc
     {m} -> 表示：匹配前一个字符m次。 例如：ab{2}c 表示abbc
     {m,n} -> 表示：匹配前一个字符m至n次。m和n可以省略：若省略m则匹配0至n次，反之则匹配m至无限次。例如：ab{1,2} 表示abb、ab
  ④边界匹配（不消耗待匹配字符串中得字符）
     ^ -> 表示：匹配字符串开头。在多行模式中匹配每一行的开头 例如：^abc 表示abc
     $ -> 表示：匹配字符串末尾。在多行模式中匹配每一行的末尾 例如：abc$ 表示abc
     \A -> 表示：仅匹配字符串开头。例如：\Aabc 表示abc
     \Z -> 表示：仅匹配字符串末尾。例如：\Zabc 表示abc
     \b -> 表示：匹配\w和\W之间。例如：a\b!bc 表示a!bc
     \B -> 表示：[^\b]。例如：a\Bbc 表示abc
  ⑤逻辑、分组
     | -> 表示左右表达式任意匹配一个。它总是先尝试匹配左边的表达式，一旦成功匹配则跳过匹配右边的表达式。如果|没有别包括在（）中，则它的范围是整个正则表达式 例如：abc|def
     (...) -> 被括起来的表达式将作为分组，从表达式的左边开始每遇到一个分组的左括号‘（’，编号+1. 另外，分组表达式作为一个整体，可以后接数量词。表达式|仅在该组中有效：（abc）{2} abcabc
     (?P<name>...) -> 分组，除了原有的编号外在指定一个额外的别名。 例如：(?P<id>abc){2}   abcabc
     \<number> -> 表示 引用编号为<number>的分组匹配到得字符串。例如：(\d)abc\1 则可表：2abc2、4abc4
     (?P=name) -> 表示 引用别名为<name>的分组匹配到得字符串。(?P<id>\d)abc(?P=id) 则可表：2abc2、4abc4
  ⑥特殊构造（不作为分组）
     (?:...) -> 表（...）的不分组版本，用于使用‘|’或后接数量词。 例如：(?:abc){2}  abcabc
     (?:iLmsux) -> 表 iLmsux的每一个字符代表一个匹配模式，只能用在正则表达式的开头，可选多个。 例如：(?iabc)  Abc
     (?#...) -> 表 #后的内容将作为注释被忽略。 例如：abc(?#comment)123  abc123
     (?=...) -> 表 之后的字符串内容需要匹配表达式才能成功匹配。不消耗字符串内容 例如：a(?=\d) 后面是数字的a
     (?!...) -> 表 之后的字符串内容需要不匹配表达式才能成功匹配。不消耗字符串内容 例如：a(?!\d) 后面不是数字的a
     (?<=...) -> 表 之前的字符串内容需要匹配表达式才能成功匹配。不消耗字符串内容 例如：(<=\d)a 前面是数字的a
     (?<!...) -> 表 之前的字符串内容需要不匹配表达式才能成功匹配。不消耗字符串内容 例如：(<=\d)a 前面不是数字的a
```

# grep的使用
```
  grep的使用：
    1、使用正则表达式的一个多用途文本搜索工具.
    2,grep的选项
    -c 只输出匹配行的计数
    -i 不区分大小写（用于单字符）
    -n 显示匹配的行号
    -v 不显示不包含匹配文本的所以有行
    -s 不显示错误信息
    -E 使用扩展正则表达式
    更多的选项请查看：man grep

    3,常用grep实例

    (1)多个文件查询
        grep "sort" *.doc       #见文件名的匹配

    (2)行匹配:输出匹配行的计数
        grep -c "48" data.doc   #输出文档中含有48字符的行数

    (3)显示匹配行和行数
        grep -n "48" data.doc       #显示所有匹配48的行和行号

    (4)显示非匹配的行
        grep -vn "48" data.doc      #输出所有不包含48的行

    (4)显示非匹配的行
        grep -vn "48" data.doc      #输出所有不包含48的行

    (5)大小写敏感
        grep -i "ab" data.doc       #输出所有含有ab或Ab的字符串的行

    4, 正则表达式的应用

    (1)正则表达式的应用 (注意：最好把正则表达式用单引号括起来)
        grep '[239].' data.doc      #输出所有含有以2,3或9开头的，并且是两个数字的行

    (2)不匹配测试
        grep '^[^48]' data.doc      #不匹配行首是48的行

    (3)使用扩展模式匹配
        grep -E '219|216' data.doc

    (4) ...
        这需要在实践中不断应用和总结，熟练掌握正则表达式。

    5, 使用类名
    可以使用国际模式匹配的类名：
    [[:upper:]]   [A-Z]
    [[:lower:]]   [a-z]
    [[:digit:]]   [0-9]
    [[:alnum:]]   [0-9a-zA-Z]
    [[:space:]]   空格或tab
    [[:alpha:]]   [a-zA-Z]

    (1)使用
        grep '5[[:upper:]][[:upper:]]' data.doc     #查询以5开头以两个大写字母结尾的行
```
# shell
```
   vim的使用：
         vim在保存之前不会对文件做实际的修改，只是加载到缓冲区中，对文件的编辑其实是对缓冲区的编辑，直到:w时才会存入物理文件。
          ( 按 i 进入 insert 状态 即插入模式 ,按 Esc 退出插入模式
                  在非插入模式下按 dd 删除光标当前行,按 x 删除当前字,
                  按 j,n,l移动光标 )

        :e file     把file加载到新的缓冲区中
        :bn     跳转到下一个缓冲区
        :bd     删除缓冲区(关闭文件)
        :sp fn     分割窗口，并将fn加载到新的窗口中

      退出编辑器
        :w     将缓冲区写入文件，即保存修改
        :wq     保存修改并退出

        :x     保存修改并退出

        :q     退出，如果对缓冲区进行过修改，则会提示

        :q!     强制退出，放弃修改

   移动的使用：mv [选项] 源文件或目录 目标目录
   拷贝的使用： cp [选项] 源文件或目录 目标文件或目录
   删除的使用： rm
              rm -r vv
            但是这样会询问你是否真的要删除vv目录  输入y 确认删除
            为了不让系统询问，可以强制删除 rm之后加上f就行了
            rm -rf vv
            这样就强制删除目录vv  如果目录下还有其他文佳 也一同删除了

   cat的使用：（concatenate）
       cat主要有三大功能：
        1.一次显示整个文件。$ cat filename
        2.从键盘创建一个文件。$ cat > filename
           只能创建新文件,不能编辑已有文件.
            1、键入cat > filename.txt 后回车
            2、录入文本内容；
            3、键入回车；
            4、在键盘上按下Ctrl+D (或者键入Control－D)。
            5、 文本被存盘，shell提示符重新出现

        3.将几个文件合并为一个文件： $cat file1 file2 > file
        参数：
        -n 或 --number 由 1 开始对所有输出的行数编号
        -b 或 --number-nonblank 和 -n 相似，只不过对于空白行不编号
        -s 或 --squeeze-blank 当遇到有连续两行以上的空白行，就代换为一行的空白行
        -v 或 --show-nonprinting
        例：
        把 textfile1 的档案内容加上行号后输入 textfile2 这个档案里
        cat -n textfile1 > textfile2

        把 textfile1 和 textfile2 的档案内容加上行号（空白行不加）之后将内容附加到 textfile3 里。
        cat -b textfile1 textfile2 >> textfile3

        cat /dev/null > /etc/test.txt  把test.txt文件扔进垃圾箱

    mkdir的使用:
        linux mkdir 命令用来创建指定的名称的目录，要求创建目录的用户在当前目录中具有写权限，并且指定的目录名不能是当前目录中已有的目录。
        1．命令格式：
        mkdir [选项] 目录...
        2．命令功能：
        通过 mkdir 命令可以实现在指定位置创建以 DirName(指定的文件名)命名的文件夹或目录。要创建文件夹或目录的用户必须对所创建的文件夹的父文件夹具有写权限。
        并且，所创建的文件夹(目录)不能与其父目录(即父文件夹)中的文件名重名，即同一个目录下不能有同名的(区分大小写)。
        3．命令参数：
          -m, --mode=模式，设定权限<模式> (类似 chmod)，而不是 rwxrwxrwx 减 umask
          -p, --parents  可以是一个路径名称。此时若路径中的某些目录尚不存在,加上此选项后,系统将自动建立好那些尚不存在的目录,即一次可以建立多个目录;
          -v, --verbose  每次创建新目录都显示信息
              --help   显示此帮助信息并退出
              --version  输出版本信息并退出

    rmdir的使用:
        rmdir是一个与mkdir相对应的命令。mkdir是建立目录，而rmdir是删除命令。rm命令可以同时删除文件或目录
        rmdir命令介绍
        1.名称：rmdir
        2.适用对象：具有当前目录操作权限的所有使用者
        3.命令格式：rmdir [-p -v] [dirName]
        4.作用：删除空目录
        5.参数详解：
        -p 当子目录被删除后如果父目录也变成空目录的话，就连带父目录一起删除。
        -v 上次讲过，这里不再叙述，具体参见

    chmod的使用:

        指令名称 : chmod
        使用权限 : 所有使用者
        使用方式 : chmod [-cfvR] [--help] [--version] mode file...
        说明 : Linux/Unix 的档案调用权限分为三级 : 档案拥有者、群组、其他。利用 chmod 可以藉以控制档案如何被他人所调用。
        参数 :
        mode : 权限设定字串，格式如下 : [ugoa...][[+-=][rwxX]...][,...]，其中
        u 表示该档案的拥有者，g 表示与该档案的拥有者属于同一个群体(group)者，o 表示其他以外的人，a 表示这三者皆是。
        + 表示增加权限、- 表示取消权限、= 表示唯一设定权限。
        r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有当该档案是个子目录或者该档案已经被设定过为可执行。
        -c : 若该档案权限确实已经更改，才显示其更改动作
        -f : 若该档案权限无法被更改也不要显示错误讯息
        -v : 显示权限变更的详细资料
        -R : 对目前目录下的所有档案与子目录进行相同的权限变更(即以递回的方式逐个变更)
        --help : 显示辅助说明
        --version : 显示版本

        例子： chmod 755 a.txt

        (你必须是文件a.txt的拥有者才能运行此命令。或者以$sudo chmod 755 a.txt的方式，以超级用户的身份运行该命令。)

        change mode 改变a.txt的读、写以及执行权限。还记得每个文件都有九位的读写执行权限(参看 Linux文件管理背景知识)，
        分为三组，分别对应拥有者(owner)，拥有组(owner group)中的用户和所有其他用户(other)。在这里，我们也有三个数字，755，对应三个组。
        7被分配给拥有者，5被分配给拥有组，最后一个5分配给其它用户。Linux规定: 4为有读取的权利，2为有写入的权利，
        1为有执行的权利。我们看到的7实际上是4 + 2 + 1，表示拥有者有读、写、执行三项权利。

     ln的使用:
            ln是linux中又一个非常重要命令，它的功能是为某一个文件在另外一个位置建立一个同不的链接，这个命令最常用的参数是-s，具体用法是：ln –s 源文件 目标文件。
            　　当我们需要在不同的目录，用到相同的文件时，我们不需要在每一个需要的目录下都放一个必须相同的文件，我们只要在某个固定的目录，放上该文件，然后在 其它的目录下用ln命令链接（link）它就可以，不必重复的占用磁盘空间。例如：ln –s /bin/less /usr/local/bin/less
            　　-s 是代号（symbolic）的意思。
            　　这里有两点要注意：第一，ln命令会保持每一处链接文件的同步性，也就是说，不论你改动了哪一处，其它的文件都会发生相同的变化；第二，ln的链接又 软链接和硬链接两种，
            软链接就是ln –s ** **，它只会在你选定的位置上生成一个文件的镜像，
            不会占用磁盘空间，硬链接ln ** **，没有参数-s， 它会在你选定的位置上生成一个和源文件大小相同的文件，无论是软链接还是硬链接，文件都保持同步变化。

     ping的使用：（control + c  停止ping）
     惯用的关机指令：shutdown  ,shutdown -h now

     重新开机，关机：reboot, halt, poweroff
     clear的使用：清空终端信息
     history的使用：查看输入的历史命令

     touch的使用:
      touch a.txt

      如果a.txt不存在，生成一个新的空文档a.txt。如果a.txt存在，那么只更改该文档的时间信息。(这个命令实际上用得并不广泛，但可以帮我们创建一个空文件

```

